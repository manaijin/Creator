# 资源导入标准化工具

&emsp;&emsp;游戏资源在导入工程后，由于工程的特殊性，常常会需要对资源做一些统一的处理，而如果只手动进行设置很繁琐而且容易出现问题，因此就需要标准化的根据处理。

## 一、Unity编辑器接口

&emsp;&emsp;Unity提供了AssetPostProcessor类，用于提供导入资源的数据。当导入资源时，Editor会向AssetPostProcessor发送相应的消息，触发相应方法。

``` csharp
// AssetPostProcessor
assetPath 导入路径

assetImporter 引用资源导入器

// message
void OnPreprocessAsset(){}

void OnPreprocessTexture(){}

void OnPostProcessTexture(Texture2D texture){}

void OnPostProcessSprites(Texture2D texture, Sprite[] sprites){}

```

## 二、标准化思路

&emsp;&emsp;对于特定文件夹，可能有特定的处理。然后根据资源命名，设置资源的相关属性。

![avatar](/程序/图片/资源标准化处理.png)

### 2.0 Addressable资源标记

&emsp;&emsp;当导入资源时，根据文件夹以及资源名称，添加资源Addressable路径。

### 2.1 Texture

- UI纹理
&emsp;&emsp;当纹理在Art/UI目录下时，导入的纹理类型为Sprite,无mipmap、透明通道，可通过资源名称设置相关属性。

- 图集
&emsp;&emsp;当纹理在Art/UI/Icon目录下时，根据文件夹生成SpriteAtlas文件，标记SpriteAtlas文件资源路径，并取消Icon的资源路径标记。

- 3D模型纹理
&emsp;&emsp;当纹理在非Art/UI目录下时，导入纹理默认为Defeat,生成mipmap。

## 参考

1. <https://www.jianshu.com/p/bdd223184738>
2. <https://blog.uwa4d.com/archives/TechSharing_195.html>
